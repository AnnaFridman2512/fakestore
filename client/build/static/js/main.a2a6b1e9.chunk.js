(this["webpackJsonpbasic-hooks"]=this["webpackJsonpbasic-hooks"]||[]).push([[0],[,,,,,,,,,,,function(t,e,c){},function(t,e,c){},function(t,e,c){},,function(t,e,c){},function(t,e,c){},function(t,e,c){"use strict";c.r(e);var n=c(1),r=c.n(n),s=c(6),a=c.n(s),i=(c(11),c(12),c(2)),o=(c(13),c(0)),u=r.a.createContext({products:[]});function j(t){var e=t.children,c=Object(n.useState)([]),r=Object(i.a)(c,2),s=r[0],a=r[1];return Object(n.useEffect)((function(){fetch("https://fakestoreapi.com/products").then((function(t){return t.json()})).then((function(t){return a(t)}))}),[]),Object(o.jsx)(u.Provider,{value:{products:s,setProducts:a},children:e})}var d=c(4),l=c(3),b=r.a.createContext({cartItems:[],addToCart:function(){}});function O(t){var e=t.children,c=Object(n.useState)({}),r=Object(i.a)(c,2),s=r[0],a=r[1];return Object(o.jsx)(b.Provider,{value:{cartItems:s,addToCart:function(t){var e,c=null!==(e=s[t])&&void 0!==e?e:0;a(Object(l.a)(Object(l.a)({},s),{},Object(d.a)({},t,c+1)))}},children:e})}function h(t){var e=t.name,c=t.quantity;return Object(o.jsxs)("div",{className:"cart-item",children:[Object(o.jsx)("span",{className:"cart-item-name",children:e}),Object(o.jsx)("span",{className:"cart-item-quantity",children:c})]})}function m(){var t=Object(n.useContext)(u).products,e=Object(n.useContext)(b).cartItems,c=Object(n.useState)(!1),r=Object(i.a)(c,2),s=r[0],a=r[1],j=Object(n.useMemo)((function(){return Object.entries(e).reduce((function(t,e){return t+e[1]}),0)}),[e]);return Object(o.jsxs)("div",{className:"cart-wrapper",children:[Object(o.jsxs)("button",{className:"cart-button",onClick:function(){return a(!0)},children:[Object(o.jsx)("img",{className:"cart-show",src:"/shopping-cart.png",alt:"show cart"}),"".concat(0===j?"No":j," item").concat(1===j?"":"s")]}),Object(o.jsxs)("div",{className:"cart ".concat(s?"":"hidden"),children:[Object(o.jsx)("div",{className:"cart-header",children:Object(o.jsx)("img",{className:"cart-hide",src:"/close.png",onClick:function(){return a(!1)},alt:"hide cart"})}),0===Object.keys(e).length?Object(o.jsx)("div",{className:"cart-empty",children:"The cart is empty"}):null,Object.entries(e).map((function(e){var c=Object(i.a)(e,2),n=c[0],r=c[1];return Object(o.jsx)(h,{name:t[n].title,quantity:r})}))]})]})}c(15);function f(t){var e=t.children;return Object(o.jsx)("li",{className:"category-item",children:e})}function x(){var t=Object(n.useState)([]),e=Object(i.a)(t,2),c=e[0],r=e[1];return Object(n.useEffect)((function(){fetch("https://fakestoreapi.com/products/categories").then((function(t){return t.json()})).then((function(t){return r(t)}))}),[]),Object(o.jsx)("div",{className:"categories",children:Object(o.jsx)("ul",{className:"categories-list",children:c.map((function(t){return Object(o.jsx)(f,{children:Object(o.jsx)("span",{className:"custom-category",children:t})},t)}))})})}c(16);var p=function(t){t.category,t.description;var e=t.id,c=t.image,r=t.title,s=t.price,a=(t.onAddToCart,Object(n.useContext)(b).addToCart);return Object(o.jsxs)("div",{className:"product",children:[Object(o.jsx)("img",{src:c,className:"product-image",alt:r}),Object(o.jsx)("h3",{className:"title",children:r}),Object(o.jsxs)("button",{onClick:function(){return a(e)},children:["Add to Cart ($",s,")"]})]})};function v(){var t=Object(n.useContext)(u).products;return Object(o.jsx)("div",{className:"products",children:Array.isArray(t)&&t.length>0?t.map((function(t){return Object(o.jsx)(p,Object(l.a)({},t),t.id)})):"Loading..."})}var g=function(){return Object(o.jsx)(j,{children:Object(o.jsx)(O,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsxs)("div",{className:"Header",children:[Object(o.jsx)(x,{}),Object(o.jsx)(m,{})]}),Object(o.jsx)(v,{})]})})})},N=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(e){var c=e.getCLS,n=e.getFID,r=e.getFCP,s=e.getLCP,a=e.getTTFB;c(t),n(t),r(t),s(t),a(t)}))};a.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root")),N()}],[[17,1,2]]]);
//# sourceMappingURL=main.a2a6b1e9.chunk.js.map